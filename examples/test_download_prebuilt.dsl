# 预制文件下载测试
@name: "预制文件下载测试"
@description: "测试预制的txt和json文件下载"
@tags: [UI, 下载, 预制文件]
@author: "assistant"

# 启动浏览器
[启动浏览器], 浏览器: "chromium", 无头模式: False

# 导航到测试页面
[打开页面], 地址: "file://./test_elements.html"

[打印], 内容: "开始预制文件下载测试"

# 滚动到下载测试区域
[滚动元素到视野], 定位器: "h2:has-text('文件下载测试')"
[等待], 秒数: 2

# 1. 测试预制文本文件下载
[打印], 内容: "1. 测试预制文本文件下载..."

txt_path = [等待下载], 触发元素: "#download-txt", 超时时间: 15, 变量名: "txt_path"
[打印], 内容: "预制文本文件下载路径: ${txt_path}"

# 验证下载的文本文件
[验证下载文件], 文件路径: "${txt_path}", 最小文件大小: 100, 文件扩展名: ".txt"
[打印], 内容: "✅ 预制文本文件下载验证成功"

# 2. 测试预制JSON文件下载
[打印], 内容: "2. 测试预制JSON文件下载..."

json_path = [等待下载], 触发元素: "#download-json", 超时时间: 15, 变量名: "json_path"
[打印], 内容: "预制JSON文件下载路径: ${json_path}"

# 验证下载的JSON文件
[验证下载文件], 文件路径: "${json_path}", 最小文件大小: 100, 文件扩展名: ".json"
[打印], 内容: "✅ 预制JSON文件下载验证成功"

# 3. 截图保存测试结果
[截图], 文件名: "prebuilt_download_test_result.png"

[打印], 内容: "预制文件下载测试完成！"

# 关闭浏览器
[关闭浏览器] 